<!DOCTYPE html>
<html lang="en-US" data-theme="light">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>รันโค้ด Jupyter โดยไม่ต้องเปิดหน้าเว็บเบราวเซอร์ทิ้งไว้ - Nick Untitled</title>
		<meta name="description" content="บทความนี้พูดถึงการใช้ Jupyter โดยรันตัว Python Notebook ที่ไม่ต้องเปิดหน้าเว็บเบราวเซอร์ทิ้งไว้">
		<meta name="keywords" content="Python,Coding,Developer,Jupyter,Data Science,AI,Artificial Intelligence,Machine Learning,Notebook,Background,Python Notebook,เขียนโปรแกรม,ไพทอน,เขียนโค้ด,โค้ดดิ้ง,วิทยาการคำนวณ,ปัญญาประดิษฐ์,">
		<base href="https://nickuntitled.com" />
		
    	<meta content="2022-02-16T00:00:00+07:00" property="article:published_time">
    	<meta content="https://nickuntitled.com/about/" property="article:author">
  		
		<meta property="og:site_name" content="Nick Untitled">
		<meta property="og:type" content="article" />
		<meta property="og:url" content="https://nickuntitled.com/2022/02/13/running_jupyter_notebook_bg/"/>
		<meta property="og:title" content="รันโค้ด Jupyter โดยไม่ต้องเปิดหน้าเว็บเบราวเซอร์ทิ้งไว้ - Nick Untitled" />
		<meta property="og:description" content="บทความนี้พูดถึงการใช้ Jupyter โดยรันตัว Python Notebook ที่ไม่ต้องเปิดหน้าเว็บเบราวเซอร์ทิ้งไว้ " />
		<meta property="og:image" content="https://asset.nickuntitled.com/2022/02/jupyter_notebook_bg_cover.jpeg"/>
		<meta name="twitter:card" content="summary_large_image"/>
		<meta property="twitter:title" content="รันโค้ด Jupyter โดยไม่ต้องเปิดหน้าเว็บเบราวเซอร์ทิ้งไว้ - Nick Untitled" />
		<meta property="twitter:description" content="บทความนี้พูดถึงการใช้ Jupyter โดยรันตัว Python Notebook ที่ไม่ต้องเปิดหน้าเว็บเบราวเซอร์ทิ้งไว้ " />
		<meta property="twitter:image" content="https://asset.nickuntitled.com/2022/02/jupyter_notebook_bg_cover.jpeg" />
		<link rel="stylesheet" href="assets/css/reset.css">
		<link rel="stylesheet" href="assets/css/highlight.css">
		<link rel="stylesheet" href="assets/css/style.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
		<link rel="shortcut icon" href="assets/images/favicon.png" />
		<link rel="alternate" type="application/atom+xml" title="Nick Untitled" href="https://nickuntitled.com/atom.xml">
		<link rel="alternate" type="application/json" title="Nick Untitled" href="https://nickuntitled.com/feed.json" />
		<link rel="sitemap" type="application/xml" title="sitemap" href="https://nickuntitled.com/sitemap.xml" />
		<meta name="google-site-verification" content="XXX" />
		<meta name="facebook-domain-verification" content="zjykrcwf7cljpxppixh5ior67ehtw2" />
	</head>
<body>

<div>
	<div class="profile">
		<div>
			<div class = 'px-4 py-4 w-full shadow-md'>
				<div class = 'container mx-auto max-w-screen-md'>
					<div class = 'float-none md:float-left'>
						<div class = 'mb-3 md:mb-0'>
							<h2 class = 'font-sans font-bold block md:inline text-xl mb-1 md:mb-0 md:mr-4 align-baseline'>
								<a href = '/' class = 'hover:underline'>Nick Untitled</a>
							</h2>
							<div class = 'font-sans text-base inline align-baseline'>
								Writing as my personal diary
							</div>
						</div>
					</div>
					
					<div class = 'float-none md:float-right'>
						<div class = 'place-content-start mb-2 md:mb-0 md:place-content-end'>
							<div class = 'mx-0 my-0 py-0 pr-0 flex space-x-2 text-left md:text-right'>
								<a href = 'feed.xml' 
									class = 'font-bold text-center align-baseline text-xl'>
									<div class = "social-button">
										<i class="bi-rss-fill"></i>
									</div>
								</a>
								
								<a href = 'about' 
									class = 'font-bold text-center align-baseline text-xl'>
									<div class = "social-button">
										<i class="bi-file-person-fill"></i>
									</div>
								</a>

								
								
									<a href = 'https://twitter.com/nicknznick' 
										class = 'font-bold text-center align-baseline text-xl'
										target="_blank">
										<div class = "social-button">
											<i class="bi-twitter"></i>
										</div>
									</a>
								
								
								
								
									<a href = 'https://github.com/nickuntitled' 
										class = 'font-bold text-center align-baseline text-xl'
										target="_blank">
										<div class = "social-button">
											<i class="bi-github"></i>
										</div>
									</a>
								
							</div>
						</div>
					</div>

					<div class = 'clear-both'></div>
				</div>
			</div>
		</div>
	</div>

	

<div class = 'px-4'>
	<div class = 'container mx-auto max-w-screen-md'>
		<div class="blog-post-header my-6">
			<h1>
				รันโค้ด Jupyter โดยไม่ต้องเปิดหน้าเว็บเบราวเซอร์ทิ้งไว้
			</h1>
		</div>

		
			<figure class = "max-w-full">
				<img src = 'https://asset.nickuntitled.com/2022/02/jupyter_notebook_bg_cover.jpeg' 
					class = "w-full"/>
			</figure>
			

		<div class="post-header">
			<div class="header-date">
				<span class = 'mr-1'>Published:</span>
				<span>16 February 2022</span>
			</div>
			<div class="post-share">
				<span class = 'mr-1'>Share:</span>
				<a href="https://www.facebook.com/sharer/sharer.php?u=https://nickuntitled.com/run-jupyter-background" target="_blank">
					<div class = "share-button">
						<i class="bi-facebook"></i>
					</div>
				</a>
				<a href="https://twitter.com/intent/tweet?source=tweetbutton&amp;original_referer=https://nickuntitled.com/run-jupyter-background&amp;text=รันโค้ด Jupyter โดยไม่ต้องเปิดหน้าเว็บเบราวเซอร์ทิ้งไว้ - https://nickuntitled.com/run-jupyter-background" target="_blank">
					<div class = "share-button">
						<i class="bi-twitter"></i>
					</div>
				</a>
			</div>
			<div class = "clear-both"></div>
		</div>

		<div class="blog-post-content my-6 mx-auto">
			<p>Jupyter Notebook เป็นเครื่องมือที่ช่วยให้เรารันตัว Python Notebook ได้ ซึ่งตัวนี้เหมาะกับการเขียนโค้ดเพื่อคำนวณทางด้านวิทยาศาสตร์ หรือทำงานด้าน Data Science และอื่น ๆ เป็นต้น ซึ่งเราจะพบการใช้งานตัว <a href="https://jupyter.org/">Jupyter Notebook</a> ได้บ่อย ๆ ใน <a href="http://colab.research.google.com/">Google Colab</a></p>

<p>อย่างไรก็ดี การใช้งานตัว Google Colab พบปัญหา เนื่องมาจากตัวฟรี หรือตัวโปรรุ่นล่าง ๆ จะเปิดให้รันบนเบื้องหลังได้ไม่นาน หลังจากนั้นตัวระบบจะตัดไป เพื่อนำทรัพยากรที่มีจำกัดให้กับบุคคลอื่นแทน ดังนั้นแล้วการใช้งาน Jupyter Notebook บนคอมพิวเตอร์ของเรา หรือบนเซิร์ฟเวอร์ของเราเองจะเป็นทางเลือกที่ดีกว่า</p>

<p>เมื่อเราติดตั้งตัว jupyter Notebook ไว้ในคอมพิวเตอร์ของเราแล้ว เราเข้าตัว Notebook ่ผ่านทางหน้าเว็บเบราวเซอร์เพื่อใช้งาน เมื่อเรารันโค้ดที่มีใน Python Notebook แล้วปิดหน้าเว็บเบราวเซอร์ทิ้งไว้ ตัวผลลัพธ์อาจจะไม่ปรากฏบนหน้าจอ หรือเปิดให้รันโค้ดไปซักพักแล้วจะขึ้น Keyboard Interrupt แล้วตัวโค้ดที่รันไว้จะหยุดการทำงาน</p>

<p>แล้วมีวิธีไหนที่จะรันตัวโค้ดที่เขียนอยู่ใน Python Notebook ให้ทำงานอยู่ถึงแม้ว่าเราจะปิดเว็บเบราวเซอร์ไปแล้วล่ะ? จากที่ไปค้นในเน็ตมีอยู่หลายวิธีได้แก่</p>

<ol>
  <li>รันตัวโค้ดผ่านทาง SSH</li>
  <li>รันผ่านทาง VNC</li>
</ol>

<p>วิธีแรกอันนี้ทำไม่ได้ เพราะเซิร์ฟเวอร์ที่ใช้อยู่ไม่ได้เปิดให้เข้าผ่านทาง SSH ดังนั้นแล้ว เราเลือกวิธีที่สองแทน โดยวิธีนี้เอามาจากใน<a href="https://towardsdatascience.com/keep-jupyter-notebook-running-even-after-browser-is-closed-9a1937b7c615">เว็บ Towards Data Science</a> แล้วเอามาใช้กับงานเราครับ</p>

<p>แต่ก่อนอื่นติดตั้ง ML workspace หรือติดตั้ง Jupyter Notebook ลงบนเซิร์ฟเวอร์ที่เราใช้งานอยู่ (หรือติดตั้งบนคลาวด์อย่าง DigitalOcean ก็ได้ ถ้าไม่มีสมาชิกก็<a href="https://m.do.co/c/61ae5e7ddeb6">สมัครสมาชิก</a>ก่อน) อย่างไรก็ดีในตัวอย่างนี้เราแนะนำ ML workspace ที่ติดตั้งเป็นตัว Docker Container เพราะมันสะดวกมากกว่า แถมมันอยู่ใน Sandbox ไม่รบกวน OS หลักที่เราใช้งานอยู่</p>

<h2 id="การเริ่มใช้งาน-และการเข้าไปใช้งาน-vnc">การเริ่มใช้งาน และการเข้าไปใช้งาน VNC</h2>

<p>เมื่อติดตั้งเสร็จแล้ว เราเริ่มทำได้โดยเปิดใช้งาน ML workspace ผ่านการใช้คำสั่งของ Docker เอง จากนั้นให้เราเข้าไปใช้งาน ML workspace โดย</p>

<ol>
  <li>เข้าทางหน้าเว็บจากเครื่องคอมพิวเตอร์เครื่องมือ</li>
  <li>เมื่อเข้ามาแล้ว เราจะพบหน้าจอ Jupyter Notebook ให้ใส่รหัสผ่านแล้วเข้ามาจะเจอหน้าจอหลักตามภาพแรก</li>
  <li>เลื่อนเมาส์ไปยัง Tools ที่มุมบนขวา จากนั้นเลื่อนลงมาจะเจอ VNC ให้เลือกที่ VNC แล้วจะพบหน้าจอเดสก์ท็อปของลินุกซ์ ให้เราคลิกเมาส์ที่ Jupyter Notebook ตามภาพต่อมา</li>
</ol>

<p><img src="https://asset.nickuntitled.com/2022/02/jupyter_notebook.jpeg" alt="Jupyter Notebook" /></p>

<p><img src="https://asset.nickuntitled.com/2022/02/vnc.jpeg" alt="VNC" /></p>

<h2 id="การเริ่มรัน-jupyter-notebook">การเริ่มรัน Jupyter Notebook</h2>

<p>เมื่อเราเข้าไปใช้งาน Jupyter Notebook ผ่านตัว VNC แล้ว ให้เราเลือกไฟล์ Python Notebook ที่เราต้องการ จากนั้นเลือกที่ Run Cells ที่มันรันนาน ๆ (ของเราเป็นการทำ Inference ของ Head Pose Estimation จากไฟล์วิดีโอ)</p>

<p>เมื่อกดเริ่มรันเรียบร้อย ระหว่างที่มันรันอยู่ ให้เราเลือกที่ Disconnect ที่ด้านซ้ายตามลูกศร</p>

<p><img src="https://asset.nickuntitled.com/2022/02/jupyter_vnc.jpeg" alt="Running Jupyter Notebook on VNC" /></p>

<p>กดปุ่ม Disconnect แล้ว ระบบจะตัดการเชื่อมต่อไป ระหว่างนี้ตัวโค้ดก็ยังรันอยู่ตามปกติโดยที่ไม่เจอการตัดการทำงานของตัวโค้ดเลย ยกเว้นแต่ว่ามีคนไปปิดเครื่องเซิร์ฟเวอร์ หรือไฟดับระหว่างที่รันครับ</p>

<p>สำหรับผู้อ่านที่สนใจ สามารถไปประยุกต์ใช้ได้เลย วิธีนี้ใช้ง่ายดี ไม่ต้องเข้าผ่าน SSH แล้วพิมพ์คอมมานไลน์ให้ยุ่งยากฮะ</p>

		</div>

		<div class="tags-container">
			
				<span class="post-tag">Python</span>
			
				<span class="post-tag">Coding</span>
			
				<span class="post-tag">Developer</span>
			
				<span class="post-tag">Jupyter</span>
			
				<span class="post-tag">Data Science</span>
			
				<span class="post-tag">AI</span>
			
				<span class="post-tag">Artificial Intelligence</span>
			
				<span class="post-tag">Machine Learning</span>
			
				<span class="post-tag">Notebook</span>
			
				<span class="post-tag">Background</span>
			
				<span class="post-tag">Python Notebook</span>
			
				<span class="post-tag">เขียนโปรแกรม</span>
			
				<span class="post-tag">ไพทอน</span>
			
				<span class="post-tag">เขียนโค้ด</span>
			
				<span class="post-tag">โค้ดดิ้ง</span>
			
				<span class="post-tag">วิทยาการคำนวณ</span>
			
				<span class="post-tag">ปัญญาประดิษฐ์</span>
			
		</div>

		<div class = ' my-6'>
			<div class="navigation">
				<div class = "prev">
					
						<a href="/2022/02/03/coding_check_metamask_crypto_web3/">
							<i class = 'bi-arrow-left-square-fill'></i>
							<span class = 'ml-1'>
								เขียนโค้ดจาวาสคริปเพื่อเช็คว่าใช้งาน MetaMask อยู่หรือไม่
							</span>
						</a>
					
				</div>

				<div class = "next">
					
				</div>
			</div>
		</div>
	</div>
</div>

</div>

<div class = 'bg-gray-200 mt-4'>
	<div class = 'px-4 py-4 w-full' >
		<div class = 'container mx-auto max-w-screen-md'>
			<div class = 'py-4'>
				<div class = 'font-sans mb-4 mr-0 md:mr-2 block'>
					<p class = 'mb-2'>
						<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
							<img alt="Creative Commons License" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
						</a>
					</p>
					<p class = 'text-xs'>
						This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/" class = 'text-sky-600 font-bold hover:underline'>Creative Commons Attribution 4.0 International License</a>.
					</p>
				</div>

				<div class = 'font-sans mb-1 mr-0 md:mr-2 block'>
					<p class = 'text-xs'>
						Made with <font color="red">♥</font> by <a href = 'https://nickuntitled.com' class = 'text-sky-600 font-bold hover:underline'>Nick Untitled</a> and Powered by <a href = "https://m.do.co/c/61ae5e7ddeb6" class = 'text-sky-600 font-bold hover:underline'>DigitalOcean</a> / <a href = 'privacy-policy' class = 'text-sky-600 font-bold hover:underline'>Privacy Policy</a>
					</p>
				</div>
			</div>	
		</div>
	</div>
</div>

	<!-- Messenger Chat plugin Code -->
	<div id="fb-root"></div>

	<!-- Your Chat plugin code -->
	<div id="fb-customer-chat" class="fb-customerchat">
	</div>

	<script>
	var chatbox = document.getElementById('fb-customer-chat');
	chatbox.setAttribute("page_id", "104741474999804");
	chatbox.setAttribute("attribution", "biz_inbox");

	window.fbAsyncInit = function() {
		FB.init({
		xfbml            : true,
		version          : 'v12.0'
		});
	};

	(function(d, s, id) {
		var js, fjs = d.getElementsByTagName(s)[0];
		if (d.getElementById(id)) return;
		js = d.createElement(s); js.id = id;
		js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js';
		fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));
	</script>

	<script src="assets/js/ephesus.js"></script>
	<script type="text/javascript">
		if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
			document.documentElement.setAttribute('data-theme', 'dark');
			document.getElementById('mode-switcher').classList.add('active');
		}
	</script>

	
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-46662350-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-46662350-1');
    </script>
	
</body>
</html>