<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>ROG Flow X13: การตั้งค่าและทดสอบกับ AI/ML | Nick Untitled</title><!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="ROG Flow X13: การตั้งค่าและทดสอบกับ AI/ML" />
<meta name="author" content="Kittisak Chotikkakamthorn" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="None" />
<meta property="og:description" content="None" />
<link rel="canonical" href="https://nickuntitled.com/2022/07/10/asus-rog-flow-x13-2022-for-ai-ml/" />
<meta property="og:url" content="https://nickuntitled.com/2022/07/10/asus-rog-flow-x13-2022-for-ai-ml/" />
<meta property="og:site_name" content="Nick Untitled" />
<meta property="og:image" content="https://sgp1.digitaloceanspaces.com/nickuntitledasset/2022/07/row_flow_x13_aiml_test_cover-1.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-07-10T16:25:21+07:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://sgp1.digitaloceanspaces.com/nickuntitledasset/2022/07/row_flow_x13_aiml_test_cover-1.jpg" />
<meta property="twitter:title" content="ROG Flow X13: การตั้งค่าและทดสอบกับ AI/ML" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kittisak Chotikkakamthorn"},"dateModified":"2024-03-16T09:43:39+07:00","datePublished":"2022-07-10T16:25:21+07:00","description":"None","headline":"ROG Flow X13: การตั้งค่าและทดสอบกับ AI/ML","image":"https://sgp1.digitaloceanspaces.com/nickuntitledasset/2022/07/row_flow_x13_aiml_test_cover-1.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://nickuntitled.com/2022/07/10/asus-rog-flow-x13-2022-for-ai-ml/"},"url":"https://nickuntitled.com/2022/07/10/asus-rog-flow-x13-2022-for-ai-ml/"}</script>
<!-- End Jekyll SEO tag -->
<link type="application/atom+xml" rel="alternate" href="https://nickuntitled.com/feed.xml" title="Nick Untitled" /><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="stylesheet" href="/assets/css/reset.css" />
  <link rel="stylesheet" href="/assets/css/normalize.css" />
  <link rel="stylesheet" href="/assets/css/main.css" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.css" integrity="sha384-OH8qNTHoMMVNVcKdKewlipV4SErXqccxxlg6HC9Cwjr5oZu2AdBej1TndeCirael" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
</head>
<body a="auto">
    <main class="page-content" aria-label="Content">
      <div class="w">
        <p class = 'back-meta'>
    <a href="/">&lt; Nick Untitled</a>
</p><article>
  <h1 class = 'post-title'>ROG Flow X13: การตั้งค่าและทดสอบกับ AI/ML</h1>

  <p class="post-meta">
    <time datetime="2022-07-10 16:25:21 +0700">2022-07-10</time>
  </p>

  
  <figure class = 'featured-image'>
      <img src = 'https://sgp1.digitaloceanspaces.com/nickuntitledasset/2022/07/row_flow_x13_aiml_test_cover-1.jpg' />
  </figure>
  

  <p>เดิมทีเรามีโน้ตบุ๊คตัวเก่าอย่าง <a href="https://nickuntitled.com/2021/05/20/surface-pro-x-application-problem-solution/" title="Surface Pro X กับแอพที่ใช้งานอยู่ในขณะนี้">Surface Pro X</a> ที่ใช้อยู่แล้วครับ เพียงแต่ช่วงนี้เครื่องอืดไปหน่อยสำหรับการใช้งานทางด้าน AI/ML ด้าน Computer Vision แถมคอมตั้งโต๊ะที่มีอยู่ก็พกพาไปไหนก็ไม่สะดวก และคอมที่แล็บก็ต้องรีโมทเข้าไปใช้งานก็ไม่สะดวกเช่นกัน เลยมองหาโน้ตบุ๊คซักตัวสำหรับการพกพา</p>

<!--more-->

<p>ตอนแรกจะเอาเครื่อง MacBook Pro ที่มันออกมาใหม่ ก็มีข่าวว่า SSD รุ่นต่ำสุดมีปัญหาเรื่องความเร็ว แถมจะอัพแรมเป็น 16GB ร่วมกับพื้นที่ SSD เป็น 1TB แล้วคำนวณราคาพบว่าราคาสูงเกินกว่างบที่ตั้งไว้ (ประมาณ 60K บาท) ส่วน MacBook Pro 14 นิ้ว รุ่นที่ให้แรม 16GB นี่ถ้าอัพ SSD เป็น 1TB แล้วราคาเกินงบไปไกลกว่าเดิมอีก </p>

<div class="wp-block-image">
<figure class="aligncenter size-large"><img data-recalc-dims="1" decoding="async" src="https://nickuntitledasset.sgp1.cdn.digitaloceanspaces.com/2022/07/macbook_pro_14.png?w=580" alt="" /><figcaption>ราคา MacBook Pro 14 นิ้วที่เกินงบไปเยอะเลย</figcaption></figure></div>

<h2 class="wp-block-heading"><strong>สเปคที่คิดไว้</strong></h2>

<p>เราเลยมองหาโน้ตบุ๊คยี่ห้ออื่น โดยตั้งสเปคในใจไว้ประมาณว่า </p>

<ul class="wp-block-list"><li>CPU ที่<strong>ไม่ใช่</strong>ตัวประหยัดพลังงานแบบรหัสรุ่นลงท้ายด้วย U</li><li>แรมอย่างน้อย 16GB ขึ้นไป</li><li>มีการ์ดจอแยกยี่ห้อ NVIDIA ที่ให้แรมอย่างน้อย 4GB (ตอนแรกจะเอา 8GB พอดูราคาแล้ว เออ เอา 4GB ก็พอทดลองโมเดลได้)</li><li>พื้นที่ SSD ให้อย่างน้อย 1TB </li><li>ขนาดจอประมาณ 13-14 นิ้ว</li><li>น้ำหนักไม่เกิน 1.5-1.6 Kg</li><li>งบไม่เกิน 60,000 บาท</li></ul>

<p>เมื่อคิดไว้ประมาณนี้เลยค้นหาข้อมูล รวมถึงรีวิวบนอินเตอร์เน็ตก็เจอโน้ตบุ๊คเกมมิงหลายรุ่นนะแหละฮะ โดยโน้ตบุ๊คเหล่านี้ก็มีขนาดจอใหญ่ 15-17 นิ้ว ซึ่งพกพาไปก็ไม่สะดวก ส่วนโน้ตบุ๊คที่มีจอขนาดตามที่ระบุไว้ข้างบนก็เจอโน้ตบุ๊คบางเบา ที่ใช้ซีพียูประหยัดพลังงานและไม่มีการ์ดจอแยกมาให้ (ถึงมีก็เป็นรุ่นล่าง)</p>

<h2 class="wp-block-heading">ASUS ROG Flow X13 (2022)</h2>

<p>พอค้นไปมาก็เจอรุ่น <a href="https://rog.asus.com/laptops/rog-flow/rog-flow-x13-2022-series/" target="_blank" rel="noreferrer noopener" title="ASUS ROG Flow X13 (2022)">ASUS ROG Flow X13 (2022)</a> ที่มียูทูปรีวิวว่าเร็ว แรง พกพาสะดวก แถมตรงกับที่เราระบุไว้ข้างบนคือ </p>

<ul class="wp-block-list"><li>CPU ที่ไม่ได้เป็นตัวประหยัดพลังงาน อย่าง Ryzen 9 6900HS</li><li>RAM ที่มีขนาด 16GB (แถมให้มาเป็น DDR5)</li><li>การ์ดจอแยก NVIDIA RTX 3050 Ti ที่มีแรม 4GB (น้อยไปนิด แต่พอทดลองโมเดลได้)</li><li>พื้นที่ SSD 1TB</li><li>จอ 13.4 นิ้ว ที่มีความละเอียดสูง 1920&#215;1200 pixel (เป็นจอกางได้จนสุด 360 องศาที่เป็นจอสัมผัส และตัวจอรองรับการใช้งานปากกา อันนี้ครบเครื่อง ๆ เอาไว้อ่าน e-book ได้)</li><li>น้ำหนัก 1.30 Kg</li><li>ราคา 59,900 บาท</li></ul>

<p>เราเลยไปซื้อ แล้วจะซื้อผ่านเน็ตเหรอ ก็คงไม่ แถมช่วงนี้มีงานคอมมาร์ทอีก เลยขับรถไปซื้อที่งานเลย ได้ส่วนลด ร่วมกับของแถมหลายชิ้นอีก คุ้ม</p>

<h2 class="wp-block-heading">ตั้งค่าระบบปฏิบัติการ และติดตั้งเครื่องมือที่ใช้</h2>

<div class="wp-block-image">
<figure class="aligncenter size-large"><img data-recalc-dims="1" decoding="async" src="https://nickuntitledasset.sgp1.cdn.digitaloceanspaces.com/2022/07/row_flow_x13_setup.jpg?w=580&#038;ssl=1" alt="" /><figcaption>หลังซื้อก็เอามาตั้งค่าระบบปฏิบัติการ และติดตั้งเครื่องมือให้เรียบร้อย</figcaption></figure></div>

<p>เมื่อได้มาแล้ว ก็แกะกล่อง ตั้งค่าระบบปฏิบัติการ และติดตั้งเครื่องมือให้เรียบร้อย โดยเครื่องมือที่เกี่ยวข้องกับงานด้านนี้ที่เราใช้อยู่ก็ได้แก่</p>

<p><strong>Visual Studio Code (VS Code)</strong> เป็นเครื่องมือที่มีไว้เขียนโค้ดนะแหละฮะ โดยโปรแกรมนี้รองรับการใช้งาน Jupyter ภายในตัวเลยโดยการติดตั้ง Python Extension</p>

<h4 class="wp-block-heading"><strong>Windows Subsystem for Linux (WSL 2)</strong></h4>

<p>Windows Subsystem for Linux (WSL 2)<strong> </strong>เป็นเครื่องมือที่อนุญาตให้เราติดตั้ง Ubuntu ภายในระบบปฏิบัติการ Windows ได้ โดยตัวนี้รองรับไดรเวอร์ NVIDIA ที่ติดตั้งอยู่บนระบบปฏิบัติการ Windows อยู่แล้ว เราไม่จำเป็นต้องติดตั้งผ่านการพิมพ์คำสั่ง apt ภายในระบบปฏิบัติการ Ubuntu อีก จุดนี้เองที่ทำให้เราใช้งานการ์ดจอได้ทันทีครับ </p>

<p>อย่างไรก็ตาม ถึงแม้ว่าเราจะใช้การ์ดจอได้ แต่เรายังเอามาประมวลผลสำหรับงานทางด้าน AI/ML ยังไม่ได้นะ เราจะต้องติดตั้ง NVIDIA Cuda Toolkit เสียก่อน เราติดตั้งเครื่องมือนี้ได้โดยพิมพ์คำสั่งตามด้านล่างนี้สำหรับการติดตั้ง CUDA Toolkit รุ่น 11.7</p>

<pre class="wp-block-code"><code>wget https://developer.download.nvidia.com/compute/cuda/repos/wsl-ubuntu/x86_64/cuda-wsl-ubuntu.pin

sudo mv cuda-wsl-ubuntu.pin /etc/apt/preferences.d/cuda-repository-pin-600
wget https://developer.download.nvidia.com/compute/cuda/11.7.0/local_installers/cuda-repo-wsl-ubuntu-11-7-local_11.7.0-1_amd64.deb

sudo dpkg -i cuda-repo-wsl-ubuntu-11-7-local_11.7.0-1_amd64.deb
sudo apt-get update
sudo apt-get -y install cuda</code></pre>

<p>เมื่อติดตั้งเสร็จแล้ว เราสามารถใช้งาน CUDA บน Ubuntu ที่ติดตั้งอยู่บน WSL 2 แล้วครับ</p>

<p>ต่อมา นอกจากการติดตั้ง NVIDIA CUDA Toolkit แล้ว เรามาตั้งค่าเรื่องแรมก็ต่อ เนื่องมาจากเวลาที่ใช้งาน WSL 2 เราจะพบว่าแรมที่ใช้งานกับเครื่องนี้มีขนาด 8GB ซึ่งน้อยไปหน่อย ทำให้เวลาทดสอบบางโมเดลจะพบปัญหาว่า Process นั้นถูกปิดไป (โดยจะขึ้นคำว่า Killed) </p>

<p>ดังนั้นแล้ว เรามาปรับแรม และตัว swap ให้มีขนาดใหญ่ขึ้น จุดนี้เราทำได้โดยสร้างไฟล์ .wslconfig ไว้ในโฟลเดอร์ C:\Users\&lt; User ที่ใช้งานอยู่ &gt; โดยตัวไฟล์เราตั้งค่าตามด้านล่างนี้ครับ</p>

<pre class="wp-block-code"><code>&#91;wsl2]
memory=12GB
swap=4GB</code></pre>

<p>เมื่อตั้งค่าเสร็จแล้ว สั่งปิด WSL 2 แล้วเปิดใหม่ได้โดยพิมพ์คำสั่งในหน้า Command Prompt ของวินโดว์ได้โดย</p>

<pre class="wp-block-code"><code>wsl --shutdown</code></pre>

<p>จากนั้นกดเข้า Ubuntu อีกครั้ง เราจะได้แรมที่มีขนาดเพิ่มขึ้นครับ เช็คได้โดยการพิมพ์คำสั่ง</p>

<pre class="wp-block-code"><code>free -m</code></pre>

<p>แต่ถ้าไม่เห็นผล ให้ปิดแล้วเปิดเครื่องใหม่</p>

<h4 class="wp-block-heading">Miniconda 3</h4>

<p>Miniconda 3 ที่เป็นเครื่องมือสำหรับงานทางด้าน Data Science โดยตัวนี้จะสร้าง Environment ขึ้นมา และติดตั้ง Conda, ไพทอน และไลบรารีที่จำเป็นเท่านั้นครับ ผิดกับ Anaconda 3 ที่ให้เครื่องมือเยอะกว่านั้นซึ่งไม่จำเป็นสำหรับเรา</p>

<p>การดาวน์โหลดและติดตั้งทำได้ไม่ยาก เพียงแค่ดาวน์โหลดตัวติดตั้งบนเว็บของ Anaconda 3 เองได้ที่<a href="https://docs.conda.io/en/latest/miniconda.html" target="_blank" rel="noreferrer noopener" title="ลิ้งค์นี้">ลิ้งค์นี้</a>ครับ โดยเลือกที่ Miniconda 3 Linux 64-bit ให้ก็อปปี้ที่อยู่ลิ้งค์นั้นแล้วพิมพ์คำสั่งบน WSL 2 ว่า</p>

<pre class="wp-block-code"><code>wget &lt;ที่อยู่ลิ้งค์ของ Miniconda 3&gt;</code></pre>

<p>กดปุ่ม Enter รอให้ดาวน์โหลดให้เสร็จเรียบร้อยแล้วพิมพ์คำสั่งนี้สำหรับการอนุญาตให้รันไฟล์ติดตั้ง Miniconda 3</p>

<pre class="wp-block-code"><code>chmod +x &lt;ที่อยู่ไฟล์ติดตั้ง Miniconda 3&gt;</code></pre>

<p>หลังจากนั้นก็สั่งตัวติดตั้งให้ติดตั้ง Miniconda 3 โดยทำตามที่ปรากฏบนหน้าจอครับ</p>

<p>เมื่อติดตั้งเสร็จแล้ว ให้ติดตั้ง Library Python ที่เกี่ยวข้อง ได้แก่ Jupyter Notebook, PyTorch, Tensorflow, ONNX runtime, Numpy, Matplotlib, Pandas และอื่น ๆ โดยติดตั้งผ่านการใช้คำสั่ง conda install หรือ pip3 ก็ได้ แต่เราแนะนำให้ใช้งานผ่าน conda ก่อนครับ ถ้าแพคเกจไหนไม่มีให้ติดตั้งผ่านทางนี้ก็ค่อยติดตั้งผ่าน pip3  แทน</p>

<p>ขั้นตอนต่อไป เป็นการทดสอบโน้ตบุ๊คกับงาน Facial Landmark Detection</p>

<h2 class="wp-block-heading"><strong>ทดสอบโน้ตบุ๊คกับ Facial Landmark Detection</strong></h2>

<p>เมื่อติดตั้งเสร็จแล้ว เรามาลองทดสอบประสิทธิภาพของโน้ตบุ๊คเบื้องต้นผ่านการทำ Facial Landmark Detection โดยในบทความนี้เราจะใช้เทคนิค <a href="https://www.adrianbulat.com/face-alignment" target="_blank" rel="noreferrer noopener" title="Face Alignment Network (FAN)">Face Alignment Network (FAN)</a> ที่เป็นเทคนิคการจับจุดแลนมาร์คบนใบหน้าสำหรับการนำไปใช้งานทางด้าน Facial Recognition, Head Pose Estimation และอื่น ๆ โดยเทคนิคนี้พัฒนาต่อยอดมาจาก Stacked Hourglass Network</p>

<div class="wp-block-image">
<figure class="aligncenter size-large"><img data-recalc-dims="1" decoding="async" src="https://nickuntitledasset.sgp1.cdn.digitaloceanspaces.com/2022/07/face_alignment_network.png?w=580&#038;ssl=1" alt="" /><figcaption>Face Alignment Network (FAN)</figcaption></figure></div>

<blockquote class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow"><p>สำหรับผู้อ่านสามารถ<a href="https://github.com/1adrianb/face-alignment" target="_blank" rel="noreferrer noopener" title="">ดาวน์โหลด และหาข้อมูลเพิ่มเติมได้จาก GitHub Repo นี้</a>ครับ</p></blockquote>

<p>การใช้งานเทคนิคนี้ทำได้ไม่ยาก ทำได้โดยการติดตั้งไลบรารีเสียก่อน โดยพิมพ์คำสั่ง</p>

<pre class="wp-block-code"><code>pip3 install face_alignment</code></pre>

<p>จากนั้นใช้งานเทคนิคนี้ได้โดย</p>

<pre class="wp-block-code"><code>import face_alignment, cv2
from matplotlib import pyplot as plt

fa = face_alignment.FaceAlignment(face_alignment.LandmarksType._2D, flip_input=False, device = 'cuda') #กรณีที่ใช้ CPU ให้เปลี่ยนจาก cuda -&gt; cpu

input = cv2.imread(&lt;ตำแหน่งรูปภาพที่ต้องการให้จับ Facial Landmark&gt;)
preds = fa.get_landmarks(input)</code></pre>

<p>เมื่อพิมพ์คำสั่งตามข้างบน ระบบจะจับจุดแลนมาร์คบนใบหน้าได้ตามที่ต้องการแล้วครับ ต่อมาเรานำจุดแลนมาร์คที่จับได้มาวาดบนภาพโดยการเขียนโค้ดตามด้านล่างนี้</p>

<pre class="wp-block-code"><code>img_c_landmark = input.copy()
for pred_each in preds&#91;0]:
    cv2.circle(img_c_landmark, (int(pred_each&#91;0]), int(pred_each&#91;1])), 3, (0, 255, 0), -1)

plt.figure(figsize=(4, 10))
plt.title("Result")
plt.imshow(cv2.cvtColor(img_c_landmark, cv2.COLOR_BGR2RGB))
plt.show()</code></pre>

<p>เมื่อทราบวิธีการเขียนโค้ดแล้ว เรานำมาเทคนิคนี้ทดสอบกับโน้ตบุ๊คด้วยชุดข้อมูล AFLW2000-3D ที่มีภาพทั้งหมด 2,000 ภาพโดยทำ Facial Landmark Detection ทีละภาพครับ แล้วได้ตัวอย่างผลลัพธ์ของการทำ Facial Landmark Detection ตามภาพด้านล่างนี้ครับ</p>

<div class="wp-block-image">
<figure class="aligncenter size-large"><img data-recalc-dims="1" decoding="async" src="https://nickuntitledasset.sgp1.cdn.digitaloceanspaces.com/2022/07/facial_landmark_output.png?w=580&#038;ssl=1" alt="" /><figcaption>ผลลัพธ์ของชุดข้อมูล AFLW2000 หลังการทำ Facial Landmark Deetection</figcaption></figure></div>

<p>เมื่อได้ผลลัพธ์เป็นภาพจากด้านบนนี้ แล้วเราจับโน้ตบุ๊คมาทดสอบความเร็วของการทำ Facial Landmark Detection เทียบกับ Google Colab และคอมที่แล็บ </p>

<p>ผลลัพธ์ที่ได้แสดงตามตารางด้านล่างนี้ครับ</p>

<figure class="wp-block-table aligncenter"><table><tbody><tr><td></td><td>ระยะเวลาที่ใช้ทั้งหมด (s)</td><td>ระยะเวลาที่ใช้ต่อภาพ (ms)</td></tr><tr><td><strong>ROG Flow X13</strong></td><td><strong>145.55</strong></td><td><strong>72.78</strong></td></tr><tr><td>Google Colab ที่ใช้การ์ดจอ NVIDIA Tesla T4</td><td>141.89</td><td>70.95</td></tr><tr><td>คอมที่แล็บที่ใช้ Threadripper 3960X ที่ใช้การ์ดจอ RTX A2000</td><td>100.77</td><td>50.39</td></tr><tr><td>คอมที่แล็บที่ใช้ Threadripper 3960X ที่ใช้การ์ดจอ RTX A4000</td><td>76.56</td><td>38.28</td></tr></tbody></table><figcaption>ตารางแสดงประสิทธิภาพของการทำ Facial Landmark Detection</figcaption></figure>

<p>จะพบว่าโน้ตบุ๊ครุ่นนี้ทำงานได้ช้าเมื่อเทียบกับการ์ดจอที่ใช้กับคอมที่แล็บ และ Google Colab ครับ (แต่ก็เร็วกว่าการใช้ CPU อยู่เยอะนะ)</p>

<blockquote class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow"><p>สำหรับผู้อ่านที่สนใจ อยากจะลองทดสอบ สามารถ<a href="https://colab.research.google.com/drive/1ZS3JzNibyUrtCbWTwP6rq-HLhY-QQx0K?usp=sharing" target="_blank" rel="noreferrer noopener" title="">ดาวน์โหลด Python Notebook นี้</a>ครับ</p></blockquote>

<p>ต่อไป เราจะเอามาทดสอบการทำ Semantic Segmentation</p>

<h2 class="wp-block-heading"><strong>ทดสอบโน้ตบุ๊คกับ Semantic Segmentation</strong></h2>

<p>เรามาลองทดสอบประสิทธิภาพของโน้ตบุ๊คเบื้องต้นผ่านการทำ Semantic Segmentation บริเวณริมฝีปากกับชุดข้อมูล CelebA-MaskHQ (ที่ผ่านการครอบบริเวณริมฝีปาก และเป็นชุดข้อมูลที่แบ่งมาสำหรับการทดสอบทั้งหมด 2,991 ภาพ) ครับ โดยในตัวอย่างนี้เราจะทดสอบกับเทคนิค U-Net ครับ</p>

<p><a href="https://arxiv.org/abs/1505.04597" target="_blank" rel="noreferrer noopener">U-Net</a> เป็นเทคนิคการทำ Semantic Segmentation หนึ่งที่มีรูปร่าง Neural Network Architecture ที่มีการย่อขยายภาพจนเป็นรูปตัว U โดยเทคนิคนี้ได้รับความนิยมสำหรับงานทางด้าน Biomedical Image Segmentation ครับ</p>

<div class="wp-block-image">
<figure class="aligncenter size-large"><img data-recalc-dims="1" decoding="async" src="https://nickuntitledasset.sgp1.cdn.digitaloceanspaces.com/2022/07/unet.png?w=580&#038;ssl=1" alt="" /><figcaption>เทคนิค U-Net</figcaption></figure></div>

<p>เครื่องมือสำหรับการทดสอบครั้งนี้ เราติดตั้งตามที่กล่าวไว้ข้างบนแล้ว เราติดตั้งเครื่องมือ <a href="https://nickuntitled.com/2022/04/10/semantic-segmentation-by-openmmlab/" target="_blank" rel="noreferrer noopener" title="วิธีเทรน Segmentation โดย mmSegmentation">mmCV และ mmSegmentation</a> สำหรับการใช้งานตามที่เราเคยเขียนมาก่อน </p>

<blockquote class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow"><p>เนื้อหาตามลิ้งค์ข้างบนอาจจะเก่าไปนิด แถมโน้ตบุ๊ครุ่นเราที่รองรับ CUDA 11.6 อยู่แล้ว เราก็ติดตั้ง <a href="https://github.com/open-mmlab/mmcv" target="_blank" rel="noreferrer noopener" title="mmCV รุ่นล่าสุด">mmCV รุ่นล่าสุด</a> และ <a href="https://github.com/open-mmlab/mmsegmentation" target="_blank" rel="noreferrer noopener" title="mmSegmentation รุ่นล่าสุด">mmSegmentation รุ่นล่าสุด</a>ไปเลยก็ได้ตามใน GitHub repo ที่แปะในลิ้งค์แล้วครับ</p></blockquote>

<p>เมื่อติดตั้งเสร็จแล้ว เราตั้งค่าโดยกำหนด Batch Size ให้น้อยลงมาพอสมควร จากเดิมที่ใช้ Batch Size 8 หรือ 16 (หรือมากกว่านั้น) มาเป็น Batch Size เท่ากับ 4 ผลลัพธ์ที่ได้จากการทำ segment บริเวณริมฝีปากได้ตามภาพด้านล่างนี้ครับ ซึ่งยัง segment ได้ไม่เป๊ะเท่าไร ต้องเอามาพัฒนาต่อ</p>

<div class="wp-block-image">
<figure class="aligncenter size-large"><img data-recalc-dims="1" decoding="async" src="https://nickuntitledasset.sgp1.cdn.digitaloceanspaces.com/2022/07/segmentation_result.png?w=580&#038;ssl=1" alt="" /><figcaption>ภาพผลลัพธ์การทำ Semantic Segmentation</figcaption></figure></div>

<p>เมื่อได้ผลลัพธ์แล้ว เรานำโน้ตบุ๊คทดสอบประสิทธิภาพของการ segment เทียบกับคอมที่แล็บ และ Google Colab แล้วพบว่าเครื่องนี้สามารถ segment บริเวณริมฝีปากได้เร็วตามตารางด้านล่างนี้ครับ</p>

<figure class="wp-block-table"><table><tbody><tr><td></td><td>ระยะเวลาที่ใช้ทั้งหมด (s)</td><td>ระยะเวลาที่ใช้ต่อภาพ (ms)</td></tr><tr><td><strong>ROG Flow X13</strong></td><td><strong>734.26</strong></td><td><strong>245.49</strong></td></tr><tr><td>Google Colab ที่ใช้การ์ดจอ NVIDIA Tesla T4</td><td>478.76</td><td>160.00</td></tr><tr><td>คอมที่แล็บที่ใช้ Threadripper 3960X ที่ใช้การ์ดจอ RTX A2000</td><td>284.58</td><td>95.14</td></tr><tr><td>คอมที่แล็บที่ใช้ Threadripper 3960X ที่ใช้การ์ดจอ RTX A4000</td><td>211.09</td><td>70.58</td></tr></tbody></table><figcaption>ตารางผลการทดสอบประสิทธิภาพของการ segment โดยใช้เทคนิค U-Net</figcaption></figure>

<p>จากผลการทดสอบนี้พบว่าเครื่องนี้ segment พื้นที่บริเวณริมฝีปากได้ช้าเมื่อเทียบกับคอมที่แล็บ และ Google Colab (แต่เร็วกว่า CPU อยู่อีกนะ) </p>

<blockquote class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow"><p>สำหรับผู้อ่านที่สนใจ อยากจะลองทดสอบ สามารถ<a href="https://drive.google.com/file/d/15nP82rhcCqfyUx0RHHBXq0zBjqvGTBIP/view?usp=sharing" target="_blank" rel="noreferrer noopener" title="ดาวน์โหลดได้ที่ Google Colab นี้">ดาวน์โหลด Python Notebook นี้</a>ครับ</p></blockquote>

<h2 class="wp-block-heading">ข้อสังเกต และข้อแนะนำ</h2>

<p>พอเห็นความเร็วของการทดสอบโมเดลทางด้าน Facial Landmark Detection และ Semantic Segmentation แล้วก็ไม่ได้แปลกใจอะไร เพราะแหมการ์ดจอที่ใช้เป็นรุ่น NVIDIA Geforce RTX 3050 Ti ที่ให้แรม 4GB มาก็แรงไปกว่าการ์ดจอ RTX A2000, A4000 ที่ใช้กับคอมที่แล็บเหรอ ก็ไม่น่าจะได้ </p>

<p>แถมเครื่องนี้ให้แรมการ์ดจอน้อยไปนิดทำให้ใช้จำนวน Batch Size ได้จำกัด และตัวเครื่องก็เป็นโน้ตบุ๊คก็มีข้อจำกัดด้านความร้อน ส่วนตัวโน้ตบุ๊คนี้ ถ้าเราปรับเทคนิค และโมเดลให้มีขนาดเล็กลง โดยอาจจะเปลี่ยนมาใช้ MobileNet, EfficientNet หรือปรับขนาดภาพ ปรับพารามิเตอร์อื่นที่เกี่ยวข้อง ก็ช่วยทำให้โน้ตบุ๊คนี้ทำงานได้เร็วขึ้นครับ</p>

<p>ส่วนโมเดลที่มีขนาดใหญ่แบบ ResNet-50 หรือ ResNet-101 เป็นต้น หรือกรณีที่เทรนกับชุดข้อมูลที่มีขนาดใหญ่ที่ใช้ระยะเวลานานเป็นวัน หรือเป็นสัปดาห์ขึ้นไป เราแนะนำว่าเอาโน้ตบุ๊คนี้มาทดลองโมเดลเบื้องต้นก่อนว่าทำงานได้ดีไหม แล้วเรานำโมเดลที่ได้รับการทดลองแล้วเอามาเทรน หรือทดสอบทีละมาก ๆ บนคอมตั้งโต๊ะ หรือคอมที่แล็บ หรือบน Google Colab อีกทีน่าจะดีกว่า</p>

<p>ส่วนงานอื่นที่จะเอาไปใช้ก็โค้ดดิ้ง งานเอกสาร เล่นเกม และอื่น ๆ ครับ โดยการทดสอบประสิทธิภาพสำหรับการเล่นเกม อันนี้หาอ่านได้เลยตามเว็บไซต์ทั่วไป หรือดูได้ตามยูทูปในแต่ละแชนเนลครับ มีคนทดสอบเรื่องนี้ไว้เรียบร้อยครับ</p>
<p class = 'license'>
    <a href="#top">&uarr; Go to top</a>
</p></article><div class = 'license'>
    <hr />
    <p >
        &copy; 2025. Nick Untitled. / <a href = '/privacy-policy/'>Privacy Policy</a>
    </p>
</div>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RBEMC5RVL9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RBEMC5RVL9');
</script></div>
    </main>
  </body>
</html>